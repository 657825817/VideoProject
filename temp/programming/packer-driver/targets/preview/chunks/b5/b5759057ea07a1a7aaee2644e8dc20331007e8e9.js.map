{"version":3,"sources":["file:///D:/CocosCreator/VideoProject/assets/Script/VideoPlayerController.ts"],"names":["_decorator","Component","VideoPlayer","log","ccclass","property","VideoPlayerController","onLoad","videoPlayer","resourceType","ResourceType","REMOTE","remoteURL","node","on","onReadyToPlay","onPlaying","onPaused","onStopped","onCompleted","onMetaLoaded","onClicked","onError","play"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,G,OAAAA,G;;;;;;;;;OACvC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;uCAGjBM,qB,WADZF,OAAO,CAAC,uBAAD,C,UAEHC,QAAQ,CAACH,WAAD,C,2BAFb,MACaI,qBADb,SAC2CL,SAD3C,CACqD;AAAA;AAAA;;AAAA;AAAA;;AAIjDM,QAAAA,MAAM,GAAG;AACL,cAAI,KAAKC,WAAT,EAAsB;AAClB;AACA,iBAAKA,WAAL,CAAiBC,YAAjB,GAAgCP,WAAW,CAACQ,YAAZ,CAAyBC,MAAzD;AACA,iBAAKH,WAAL,CAAiBI,SAAjB,GAA6B,8BAA7B,CAHkB,CAKlB;;AACA,iBAAKJ,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,eAAzB,EAA0C,KAAKC,aAA/C,EAA8D,IAA9D;AACA,iBAAKP,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,SAAzB,EAAoC,KAAKE,SAAzC,EAAoD,IAApD;AACA,iBAAKR,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,QAAzB,EAAmC,KAAKG,QAAxC,EAAkD,IAAlD;AACA,iBAAKT,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,SAAzB,EAAoC,KAAKI,SAAzC,EAAoD,IAApD;AACA,iBAAKV,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,WAAzB,EAAsC,KAAKK,WAA3C,EAAwD,IAAxD;AACA,iBAAKX,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,aAAzB,EAAwC,KAAKM,YAA7C,EAA2D,IAA3D;AACA,iBAAKZ,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,SAAzB,EAAoC,KAAKO,SAAzC,EAAoD,IAApD;AACA,iBAAKb,WAAL,CAAiBK,IAAjB,CAAsBC,EAAtB,CAAyB,OAAzB,EAAkC,KAAKQ,OAAvC,EAAgD,IAAhD;AACH;AACJ;;AAEDP,QAAAA,aAAa,GAAG;AACZZ,UAAAA,GAAG,CAAC,wBAAD,CAAH;;AACA,cAAI,KAAKK,WAAT,EAAsB;AAClB,iBAAKA,WAAL,CAAiBe,IAAjB;AACH;AACJ;;AAEDP,QAAAA,SAAS,GAAG;AACRb,UAAAA,GAAG,CAAC,kBAAD,CAAH;AACH;;AAEDc,QAAAA,QAAQ,GAAG;AACPd,UAAAA,GAAG,CAAC,iBAAD,CAAH;AACH;;AAEDe,QAAAA,SAAS,GAAG;AACRf,UAAAA,GAAG,CAAC,kBAAD,CAAH;AACH;;AAEDgB,QAAAA,WAAW,GAAG;AACVhB,UAAAA,GAAG,CAAC,sBAAD,CAAH;AACH;;AAEDiB,QAAAA,YAAY,GAAG;AACXjB,UAAAA,GAAG,CAAC,wBAAD,CAAH;AACH;;AAEDkB,QAAAA,SAAS,GAAG;AACRlB,UAAAA,GAAG,CAAC,kBAAD,CAAH;AACH;;AAEDmB,QAAAA,OAAO,GAAG;AACNnB,UAAAA,GAAG,CAAC,mCAAD,CAAH;AACH;;AAvDgD,O;;;;;iBAEf,I","sourcesContent":["import { _decorator, Component, VideoPlayer, log } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('VideoPlayerController')\r\nexport class VideoPlayerController extends Component {\r\n    @property(VideoPlayer)\r\n    videoPlayer: VideoPlayer | null = null;\r\n\r\n    onLoad() {\r\n        if (this.videoPlayer) {\r\n            // 设置视频 URL\r\n            this.videoPlayer.resourceType = VideoPlayer.ResourceType.REMOTE;\r\n            this.videoPlayer.remoteURL = \"http://example.com/video.mp4\";\r\n\r\n            // 添加事件监听\r\n            this.videoPlayer.node.on('ready-to-play', this.onReadyToPlay, this);\r\n            this.videoPlayer.node.on('playing', this.onPlaying, this);\r\n            this.videoPlayer.node.on('paused', this.onPaused, this);\r\n            this.videoPlayer.node.on('stopped', this.onStopped, this);\r\n            this.videoPlayer.node.on('completed', this.onCompleted, this);\r\n            this.videoPlayer.node.on('meta-loaded', this.onMetaLoaded, this);\r\n            this.videoPlayer.node.on('clicked', this.onClicked, this);\r\n            this.videoPlayer.node.on('error', this.onError, this);\r\n        }\r\n    }\r\n\r\n    onReadyToPlay() {\r\n        log('Video is ready to play');\r\n        if (this.videoPlayer) {\r\n            this.videoPlayer.play();\r\n        }\r\n    }\r\n\r\n    onPlaying() {\r\n        log('Video is playing');\r\n    }\r\n\r\n    onPaused() {\r\n        log('Video is paused');\r\n    }\r\n\r\n    onStopped() {\r\n        log('Video is stopped');\r\n    }\r\n\r\n    onCompleted() {\r\n        log('Video play completed');\r\n    }\r\n\r\n    onMetaLoaded() {\r\n        log('Video meta data loaded');\r\n    }\r\n\r\n    onClicked() {\r\n        log('Video is clicked');\r\n    }\r\n\r\n    onError() {\r\n        log('Video player encountered an error');\r\n    }\r\n}\r\n"]}