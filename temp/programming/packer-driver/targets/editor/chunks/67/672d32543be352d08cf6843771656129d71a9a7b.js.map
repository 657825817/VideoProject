{"version":3,"sources":["file:///D:/CocosCreator/VideoProject/assets/Script/VideoController.ts"],"names":["_decorator","Component","VideoPlayer","assetManager","ccclass","property","VideoController","start","playVideo","videoUrl","loadRemote","ext","err","videoAsset","console","error","videoClip","videoPlayer","clip","play","changeVideo","event","customEventData"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,Y,OAAAA,Y;;;;;;;;;OACvC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;yBAGTM,e,WAEhBD,QAAQ,CAACH,WAAD,C,EAHZE,O,qBAAD,MACqBE,eADrB,SAC6CL,SAD7C,CACuD;AAAA;AAAA;;AAAA;AAAA;;AAKnDM,QAAAA,KAAK,GAAG;AACJ;AACA,eAAKC,SAAL,CAAe,sBAAf;AACH;;AAEDA,QAAAA,SAAS,CAACC,QAAD,EAAmB;AACxBN,UAAAA,YAAY,CAACO,UAAb,CAAwBD,QAAxB,EAAkC;AAAEE,YAAAA,GAAG,EAAE;AAAP,WAAlC,EAAmD,CAACC,GAAD,EAAMC,UAAN,KAAqB;AACpE,gBAAID,GAAJ,EAAS;AACLE,cAAAA,OAAO,CAACC,KAAR,CAAc,6BAAd,EAA6CH,GAA7C;AACA;AACH,aAJmE,CAKpE;;;AACA,kBAAMI,SAAoB,GAAGH,UAA7B,CANoE,CAOpE;;AACA,iBAAKI,WAAL,CAAiBC,IAAjB,GAAwBF,SAAxB,CARoE,CASpE;;AACA,iBAAKC,WAAL,CAAiBE,IAAjB;AACH,WAXD;AAYH,SAvBkD,CAyBnD;;;AACAC,QAAAA,WAAW,CAACC,KAAD,EAAQC,eAAR,EAAyB;AAChC,eAAKd,SAAL,CAAec,eAAf;AACH;;AA5BkD,O;;;;;iBAGxB,I","sourcesContent":["import { _decorator, Component, VideoPlayer, assetManager, VideoClip } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass\r\nexport default class VideoController extends Component {\r\n\r\n    @property(VideoPlayer)\r\n    videoPlayer: VideoPlayer = null;\r\n\r\n    start() {\r\n        // 在开始时播放默认视频\r\n        this.playVideo('resources/video1.mp4');\r\n    }\r\n\r\n    playVideo(videoUrl: string) {\r\n        assetManager.loadRemote(videoUrl, { ext: '.mp4' }, (err, videoAsset) => {\r\n            if (err) {\r\n                console.error('Failed to load video asset:', err);\r\n                return;\r\n            }\r\n            // 转换为 VideoClip 类型\r\n            const videoClip: VideoClip = videoAsset as VideoClip;\r\n            // 设置给 videoPlayer.clip\r\n            this.videoPlayer.clip = videoClip;\r\n            // 播放视频\r\n            this.videoPlayer.play();\r\n        });\r\n    }\r\n\r\n    // 示例方法，用于在运行时更换视频\r\n    changeVideo(event, customEventData) {\r\n        this.playVideo(customEventData);\r\n    }\r\n}\r\n"]}